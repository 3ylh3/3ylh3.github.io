<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <link rel="stylesheet" href="/style/style.css">
<script>
  var nlviconfig = {
    title: "小白的博客",
    author: "小白",
    baseUrl: "/",
    theme: {
      scheme: "banderole",
      lightbox: true,
      animate: true,
      search: true,
      friends: false,
      reward: false,
      lazy: false
    }
  }
</script>




    <link rel="stylesheet" href="/script/lib/lightbox/css/lightbox.min.css">




    <link rel="stylesheet" href="/syuanpi/syuanpi.min.css">










    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="browsermode" content="application">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="小白的博客">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="msapplication-navbutton-color" content="#666666">
<meta name="format-detection" content="telephone=no">
<meta name="keywords" content="nlvi, Nlvi">



  <meta name="description" content="菜鸟码农小白的IT技术博客">



  <meta name="keywords" content="Java, 红黑树, Nlvi">

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link href="https://ico.z01.com/zico.min.css" rel="stylesheet">
  <title> Java实现红黑树 · 小白的博客 </title>
</head>
<body>
  <div class="progress" style="height:0">
  <div class="progress-inner"></div>
</div>

  
    <div class="tagcloud-mask"></div>  
<div class="tagcloud" id="tagcloud">
  <div class="tagcloud-inner">
    <a href="/tags/Dubbo/" style="font-size: 14px;">Dubbo</a> <a href="/tags/Java/" style="font-size: 14px;">Java</a> <a href="/tags/Nacos/" style="font-size: 14px;">Nacos</a> <a href="/tags/Spring/" style="font-size: 14px;">Spring</a> <a href="/tags/Spring-AOP/" style="font-size: 14px;">Spring AOP</a> <a href="/tags/Spring-Boot/" style="font-size: 14px;">Spring Boot</a> <a href="/tags/Spring-Cloud/" style="font-size: 14px;">Spring Cloud</a> <a href="/tags/排序算法/" style="font-size: 14px;">排序算法</a> <a href="/tags/红黑树/" style="font-size: 14px;">红黑树</a>
  </div>
</div>
    <div class="categorycloud-mask"></div>  
<div class="categorycloud" id="categorycloud">
  <div class="categorycloud-inner">
    <a href="/categories/数据结构和算法/" style="font-size: 14px;">数据结构和算法</a> <a href="/categories/框架/" style="font-size: 14px;">框架</a>
  </div>
</div>
  

  <div class="container" style="display:none;">

    <header class="header" id="header">
  <div class="header-wrapper">
    <div class="logo">
  <div class="logo-inner syuanpi tvIn">
    <span><a href="/">小白的博客</a></span>
    
  </div>
</div>
    <nav class="main-nav">
  
  <ul class="main-nav-list syuanpi tvIn">
  
    <li class="menu-item">
      <a href="javascript:;" id="search">
        <span>搜索</span>
        
          <span class="menu-item-label">search</span>
        
      </a>
    </li>
  
  
    
      
    
    <li class="menu-item">
      <a href="/archives" id="archives">
        <span class="base-name">归档</span>
        
          <span class="menu-item-label">archives</span>
        
      </a>
    </li>
  
    
      
    
    <li class="menu-item">
      <a href="javascript:;" id="categories">
        <span class="base-name">分类</span>
        
          <span class="menu-item-label">categories</span>
        
      </a>
    </li>
  
    
      
    
    <li class="menu-item">
      <a href="javascript:;" id="tags">
        <span class="base-name">标签</span>
        
          <span class="menu-item-label">tags</span>
        
      </a>
    </li>
  
    
      
    
    <li class="menu-item">
      <a href="/about" id="about">
        <span class="base-name">关于</span>
        
          <span class="menu-item-label">about</span>
        
      </a>
    </li>
  
  </ul>
  
</nav>

    
    
  </div>
</header>
<div class="mobile-header">
  <div class="mobile-header-body">
    <div class="mobile-header-list">
      
        
            <div class="mobile-nav-item">
                <a href="/archives">
                    <span>归档</span>
                    
                        <span class="menu-item-label">archives</span>
                    
                </a>
            </div>
        
      
        
          <div class="mobile-nav-item inner-categorycloud">
            <div class="mobile-nav-category">
              <a href="javascript:;" id="mobile-categories">
                <span>分类</span>
                
                    <span class="menu-item-label">categories</span>
                
              </a>
            </div>
            <div class="mobile-nav-categorycloud">
              <div class="mobile-categorycloud-inner">
                <a href="/categories/数据结构和算法/" style="font-size: 14px;">数据结构和算法</a> <a href="/categories/框架/" style="font-size: 14px;">框架</a>
              </div>
            </div>
          </div>
        
      
        
          <div class="mobile-nav-item inner-cloud">
            <div class="mobile-nav-tag">
              <a href="javascript:;" id="mobile-tags">
                <span>标签</span>
                
                    <span class="menu-item-label">tags</span>
                
              </a>
            </div>
            <div class="mobile-nav-tagcloud">
              <div class="mobile-tagcloud-inner">
                <a href="/tags/Dubbo/" style="font-size: 14px;">Dubbo</a> <a href="/tags/Java/" style="font-size: 14px;">Java</a> <a href="/tags/Nacos/" style="font-size: 14px;">Nacos</a> <a href="/tags/Spring/" style="font-size: 14px;">Spring</a> <a href="/tags/Spring-AOP/" style="font-size: 14px;">Spring AOP</a> <a href="/tags/Spring-Boot/" style="font-size: 14px;">Spring Boot</a> <a href="/tags/Spring-Cloud/" style="font-size: 14px;">Spring Cloud</a> <a href="/tags/排序算法/" style="font-size: 14px;">排序算法</a> <a href="/tags/红黑树/" style="font-size: 14px;">红黑树</a>
              </div>
            </div>
          </div>
        
      
        
            <div class="mobile-nav-item">
                <a href="/about">
                    <span>关于</span>
                    
                        <span class="menu-item-label">about</span>
                    
                </a>
            </div>
        
      
    </div>
  </div>
  <div class="mobile-header-nav">
    <div class="mobile-header-item" id="mobile-left">
      <div class="header-menu-item">
        <span class="header-menu-line"></span>
      </div>
    </div>
    <h1 class="mobile-header-title">
      <a href="/">小白的博客</a>
    </h1>
    <div class="mobile-header-item"></div>
  </div>
</div>
    <div class="container-inner">
    
      <main class="main" id="main">
        <div class="main-wrapper">
          
    
  
  <article class="
  post
   is_post 
  ">
    <header class="post-header">
      <div class="post-time syuanpi fadeInUpShort back-1">
        <div class="post-time-wrapper">
          <span>2019-03-28</span>
          
            
              <span class="post-category"><a href="/categories/数据结构和算法/">数据结构和算法</a></span>
            
          
          
            
              <aside class="post-tags syuanpi fadeInUpShort back-3">
              
                <a href="/tags/Java/">Java</a>
              
                <a href="/tags/红黑树/">红黑树</a>
              
              </aside>
              &nbsp;
              <span><i class="zi zi_eye"></i>：<span id="/2019/03/28/Java实现红黑树/" class="leancloud_visitors" data-flag-title="Java实现红黑树">0</span></span>
            
          
        </div>
      </div>
      <h1 class="post-title syuanpi fadeInUpShort back-2">
        
          Java实现红黑树
        
      </h1>
    </header>
    <div class="post-content syuanpi fadeInUpShort back-3">
      
        <h2 id="红黑树简单介绍"><a href="#红黑树简单介绍" class="headerlink" title="红黑树简单介绍"></a>红黑树简单介绍</h2><p>红黑树是一种特殊的二叉查找树，它具有以下几点特性：</p>
<ol>
<li>每个节点只有一种颜色，黑色或红色。</li>
<li>根节点是黑色。</li>
<li>叶子节点是黑色。（这里的叶子节点是指空节点）</li>
<li>如果一个节点是红色的，那么它的子节点都是黑色的。</li>
<li>从一个节点到该节点的子孙叶子节点的所有路径上包含相同数目的黑色节点</li>
</ol>
<a id="more"></a>
<p>红黑树定义：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedAndBlackTree</span>&lt;<span class="title">E</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&lt;<span class="title">E</span>&gt;&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 红黑树节点</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">        <span class="comment">//父节点</span></span><br><span class="line">        <span class="keyword">private</span> TreeNode parent;</span><br><span class="line">        <span class="comment">//左孩子</span></span><br><span class="line">        <span class="keyword">private</span> TreeNode leftChild;</span><br><span class="line">        <span class="comment">//右孩子</span></span><br><span class="line">        <span class="keyword">private</span> TreeNode rightChild;</span><br><span class="line">        <span class="comment">//节点值</span></span><br><span class="line">        <span class="keyword">private</span> E value;</span><br><span class="line">        <span class="comment">//颜色</span></span><br><span class="line">        <span class="keyword">private</span> String color;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 无参构造函数，默认初始化颜色为红色</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.color = <span class="string">"red"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 有参构造函数</span></span><br><span class="line"><span class="comment">         * 默认初始化颜色为红色</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> parent 父节点</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> leftChild 左孩子</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> rightChild 右孩子</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> value 节点值</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(TreeNode parent,TreeNode leftChild,TreeNode rightChild,E value,String color)</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.parent = parent;</span><br><span class="line">            <span class="keyword">this</span>.leftChild = leftChild;</span><br><span class="line">            <span class="keyword">this</span>.rightChild = rightChild;</span><br><span class="line">            <span class="keyword">this</span>.value = value;</span><br><span class="line">            <span class="keyword">this</span>.color = color;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//根节点</span></span><br><span class="line">    <span class="keyword">private</span> TreeNode root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="红黑树基本操作"><a href="#红黑树基本操作" class="headerlink" title="红黑树基本操作"></a>红黑树基本操作</h2><h3 id="左旋"><a href="#左旋" class="headerlink" title="左旋"></a>左旋</h3><p>假设需要左旋的节点为node,node节点的右孩子为tmpNode,左旋步骤如下：</p>
<ol>
<li>如果tmpNode为空，则无需进行任何操作。</li>
<li>记lchild为tmpNode的左孩子。</li>
<li>如果lchild不为空，将lchild设为node的右孩子，将lchild的父亲设为node，否则将node的右孩子设为空。</li>
<li>将node的父亲设为tmpNode的父亲。</li>
<li>判断如果node的父亲是空，则把tmpNode设为root节点。</li>
<li>如果node的父亲不为空，且node是它父亲的左孩子，那么将tmpNode设为node父亲的左孩子。</li>
<li>如果node的父亲不为空，且node是它父亲的右孩子，那么将tmpNode设为node父亲的右孩子。</li>
<li>将node设为tmpNode的左孩子，将node的父节点设为tmpNode。</li>
</ol>
<p>图解如下：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/f5452830bc09c1a4b2e532e47262bc69?fid=4047388677-250528-938694789941481&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-qThr3un0cgWbsyf503J0BlqCFzI%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124360158887013584&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>Java代码实现：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">leftRotate</span><span class="params">(TreeNode node)</span></span>&#123;</span><br><span class="line">        <span class="comment">//新建tmpNode节点，把node的右孩子赋给tmpNode</span></span><br><span class="line">        TreeNode tmpNode = node.rightChild;</span><br><span class="line">        <span class="keyword">if</span>(tmpNode == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode lchild = tmpNode.leftChild;</span><br><span class="line">        <span class="keyword">if</span>(lchild != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//将tmpNode的左孩子设为node的右孩子</span></span><br><span class="line">            node.rightChild = lchild;</span><br><span class="line">            <span class="comment">//将tmpNode的左孩子的父亲设为node</span></span><br><span class="line">            tmpNode.leftChild.parent = node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//将node的右孩子设为空</span></span><br><span class="line">            node.rightChild = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//将node的父亲设为tmpNode的父亲</span></span><br><span class="line">        tmpNode.parent = node.parent;</span><br><span class="line">        <span class="comment">//判断如果node的父亲是空，则设tmpNode为root节点</span></span><br><span class="line">        <span class="keyword">if</span>(node.parent == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>.root = tmpNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果node是它父亲的左孩子，那么将tmpNode设为node父亲的左孩子</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(node == (node.parent.leftChild))&#123;</span><br><span class="line">            node.parent.leftChild = tmpNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//否则将tmpNode设为node父亲的右孩子</span></span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            node.parent.rightChild = tmpNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//将node设为tmpNode的左孩子</span></span><br><span class="line">        tmpNode.leftChild = node;</span><br><span class="line">        <span class="comment">//将node的父节点设为tmpNode</span></span><br><span class="line">        node.parent = tmpNode;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="右旋"><a href="#右旋" class="headerlink" title="右旋"></a>右旋</h3><p>假设需要右旋的节点为node,node的左孩子为tmpNode,右旋步骤如下：</p>
<ol>
<li>如果tmpNode为空，则无需进行任何操作。</li>
<li>记rchild为tmpNode的右孩子。</li>
<li>如果rchild不为空，将rchild设为node的左孩子，将rchild的父亲设为node，否则将node的左孩子设为空。</li>
<li>将node的父亲设为tmpNode的父亲。</li>
<li>判断如果node的父亲是空，则把tmpNode设为root节点。</li>
<li>如果node的父亲不为空，且node是它父亲的左孩子，那么将tmpNode设为node父亲的左孩子。</li>
<li>如果node的父亲不为空，且node是它父亲的右孩子，那么将tmpNode设为node父亲的右孩子。</li>
<li>将node设为tmpNode的右孩子，将node的父节点设为tmpNode。</li>
</ol>
<p>图解如下：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/a7173a28f9276d765cb126db82c42dd2?fid=4047388677-250528-383834506415467&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-vfzZbVuVunSyRNcw%2bH2aPTAQ%2f04%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124399203936120137&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>Java代码实现：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rightRotate</span><span class="params">(TreeNode node)</span></span>&#123;</span><br><span class="line">    <span class="comment">//新建tmpNode节点，把node的左孩子赋给tmpNode</span></span><br><span class="line">    TreeNode tmpNode = node.leftChild;</span><br><span class="line">    <span class="keyword">if</span>(tmpNode == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode rchild = tmpNode.rightChild;</span><br><span class="line">    <span class="keyword">if</span>(rchild != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="comment">//将tmpNode的右孩子设为node的左孩子</span></span><br><span class="line">        node.leftChild = tmpNode.rightChild;</span><br><span class="line">        <span class="comment">//将tmpNode右孩子的父节点设为node</span></span><br><span class="line">        tmpNode.rightChild.parent = node;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//将node的左孩子设为空</span></span><br><span class="line">        node.leftChild = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//将node的父亲设为tmpNode的父亲</span></span><br><span class="line">    tmpNode.parent = node.parent;</span><br><span class="line">    <span class="comment">//判断如果node的父亲是空，则设tmpNode为root节点</span></span><br><span class="line">    <span class="keyword">if</span>(node.parent == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>.root = tmpNode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果node是它父亲的左孩子，那么将tmpNode设为node父亲的左孩子</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(node == (node.parent.leftChild))&#123;</span><br><span class="line">        node.parent.leftChild = tmpNode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//否则将tmpNode设为node父亲的右孩子</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        node.parent.rightChild = tmpNode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//将node设为tmpNode的右孩子</span></span><br><span class="line">    tmpNode.rightChild = node;</span><br><span class="line">    <span class="comment">//将node的父节点设为tmpNode</span></span><br><span class="line">    node.parent = tmpNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="插入新节点"><a href="#插入新节点" class="headerlink" title="插入新节点"></a>插入新节点</h3><h4 id="一、找到插入节点的位置并插入"><a href="#一、找到插入节点的位置并插入" class="headerlink" title="一、找到插入节点的位置并插入"></a>一、找到插入节点的位置并插入</h4><p>具体步骤如下：</p>
<ol>
<li>记node为需要插入的节点（默认颜色为红色），index为需要插入的位置（初始化为root节点），parent为index的父节点（初始化为空）。</li>
<li>如果index为空，则直接将node置为根节点。</li>
<li>如果index不为空，吧index赋给parent。</li>
<li>判断node的节点值如果小于index的节点值，则将index置为index的左孩子，继续循环判断，直至index为空；如果大于index节点的值，则将index置为index的右孩子，继续循环判断，直至index为空；如果相等，证明红黑树中已存在该节点，跳出。</li>
<li><p>此时index为要插入的位置，parent为要插入节点的父节点，将node节点插入。</p>
<h4 id="二、对插入节点进行调整"><a href="#二、对插入节点进行调整" class="headerlink" title="二、对插入节点进行调整"></a>二、对插入节点进行调整</h4><p>插入节点后，可能会破坏红黑树的规则，因为插入的节点是红色的，所以规则5（从一个节点到该节点的子孙叶子节点的所有路径上包含相同数目的黑色节点）不会被破坏，规则1（每个节点或者是红色，或者是黑色）、规则3（每个叶子节点是黑色，这里的叶子节点是指为空的叶子节点）显然也不会破坏，只可能破坏规则2（根节点是黑色）和规则4（如果一个节点是红的，那么它的子节点必须是黑的）。插入新节点的情况可能有以下三种：</p>
</li>
<li><p>插入的是根节点，此时破坏了规则2。</p>
</li>
<li>插入节点的父亲节点是黑色，此时没有破坏任何规则，无需进行调整。</li>
<li>插入节点的父亲节点是红色，此时破坏了规则4。这种情况也有5种子情况：<br>子情况1：父节点是红色，叔叔节点也是红色。<br>子情况2：父节点是红色并且是祖父节点的左孩子，叔叔节点是黑色，并且插入节点是父节点的右孩子。<br>子情况3：父节点是红色并且是祖父节点的左孩子，叔叔节点是黑色，并且插入节点是父节点的左孩子。<br>子情况4：父节点是红色并且是祖父节点的右孩子，叔叔节点是黑色，并且插入节点是父节点的左孩子。<br>子情况5：父节点是红色并且是祖父节点的右孩子，叔叔节点是黑色，并且插入节点是父节点的右孩子。</li>
</ol>
<p>破坏规则后，需要对红黑树进行一系列的颜色修改以及旋转，来满足红黑树的规则，记需要调整的节点（当前节点）是node，具体步骤如下：</p>
<ol>
<li>如果node节点是root节点，则将颜色变为黑色，否则进行下面的步骤。</li>
<li>如果node节点的父节点是红色并且是祖父节点的左孩子，叔叔节点也是红色，则将父节点和叔叔节点设为黑色，将祖父节点设为红色，并将祖父节点设为当前节点递归进行调整。</li>
<li>如果node节点的父节点是红色并且是祖父节点的左孩子，叔叔节点是黑色，并且node节点是父节点的右孩子，则将父节点设为当前节点并进行左旋，然后递归进行调整。</li>
<li>如果node节点的父节点是红色并且是祖父节点的左孩子，叔叔节点是黑色，并且node节点是父节点的左孩子，则将父节点设为黑色，将祖父节点设为红色并进行右旋。</li>
<li>如果node节点的父节点是红色并且是祖父节点的右孩子，叔叔节点也是红色，则将父节点和叔叔节点设为黑色，将祖父节点设为红色，并将祖父节点设为当前节点递归进行调整。</li>
<li>如果node节点的父节点是红色并且是祖父节点的右孩子，叔叔节点是黑色，并且node节点是父节点的左孩子，则将父节点设为当前节点并进行右旋，然后递归进行调整。</li>
<li><p>如果node节点的父节点是红色并且是祖父节点的右孩子，叔叔节点是黑色，并且node节点是父节点的右孩子，则将父节点设为黑色，将祖父节点设为红色并进行左旋。</p>
<p>子情况1（父节点是红色，叔叔节点也是红色）图解， 5是插入节点（当前节点），：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/0287a49596aa6461baa17d895c06088a?fid=4047388677-250528-918932721350644&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-yKyGrQZevOA0nrTur9ZAfDSvHkc%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124419074797711851&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>调整后（按步骤2和5调整）如下，20为当前节点：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/31f057a730f4d2f4b4e7debf4aba46b8?fid=4047388677-250528-984147541178577&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-LPYnFOQlITE6c%2bYIIxeOMpIJF%2f8%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124445533730676187&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>对当前节点递归调整（按照步骤1调整）后满足红黑树条件：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/3ce8f58a10951cd1bc13ac2f2e7e725d?fid=4047388677-250528-270591184775104&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-oHNhKhxl%2f5aeXe82idoi0qoSYHw%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124457458616844281&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>子情况2（父节点是红色并且是祖父节点的左孩子，叔叔节点是黑色（空的叶子节点），并且插入节点是父节点的右孩子）图解，15为插入节点：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/0ab00abea56ede680541e3643d97fc32?fid=4047388677-250528-511955362634635&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-Mzre2jnf6codSVa7UoX6nOGljdE%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124471504485207545&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>调整（按步骤3调整）后如下，此时10是当前节点：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/5370716f21c5b9d8e7238e8d9d7878ed?fid=4047388677-250528-169763457222419&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-%2f954caWDMlSeujlhnWSWGux%2bf3o%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124485538067649927&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>对当前节点进行递归调整后满足红黑树条件（这种其实是子情况3，按照步骤4调整）：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/2bdc7b62110113a8609fc564f4d9af22?fid=4047388677-250528-193747713382315&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-IQFxVnFm1w6mAMCbb8asYgvmCBE%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124500834132826051&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>子情况4图解（子情况3上面已经描述，不再赘述），插入节点是25：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/36254b1d04ce61984262d0b15780fab7?fid=4047388677-250528-724974782356462&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-nCFmLcq979RbssYXg%2fb6ihm5Yf4%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124533073182299598&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>调整后（按照步骤6调整）如下，此时当前节点是30：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/1457aed223a916f5687c4c0e74b8beee?fid=4047388677-250528-33958661693297&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-rR%2bXfL%2f16l602G4e%2bh07xHVhou8%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124544157888084509&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>递归调整（这种其实是子情况6，按照步骤7调整）后如下，满足红黑树条件：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/32c3b9bb384a33330722fe65dec6dee8?fid=4047388677-250528-491970065941903&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-RxVIPQnXPcPQsn%2fUjn%2bWRjJoNB8%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124559203707742978&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>完整的Java代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 插入新节点</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> value 要插入节点的值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(E value)</span></span>&#123;</span><br><span class="line">    TreeNode node = <span class="keyword">new</span> TreeNode(<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,value,<span class="string">"red"</span>);</span><br><span class="line">    TreeNode index = <span class="keyword">this</span>.root;</span><br><span class="line">    TreeNode parent = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">//寻找插入位置</span></span><br><span class="line">    <span class="keyword">if</span>(index == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>.root = node;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(index != <span class="keyword">null</span>)&#123;</span><br><span class="line">            parent = index;</span><br><span class="line">            <span class="keyword">if</span>(value.compareTo(index.value) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">                index = index.leftChild;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(value.compareTo(index.value) &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                index = index.rightChild;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//将node的parent设为parent</span></span><br><span class="line">        node.parent = parent;</span><br><span class="line">        <span class="comment">//如果value小于parent的节点值，则将node置为parent的左孩子，否则置为右孩子</span></span><br><span class="line">        <span class="keyword">if</span>(value.compareTo(parent.value) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            parent.leftChild = node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            parent.rightChild = node;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//进行调整</span></span><br><span class="line">    insertAdjust(node);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 新增节点后调整</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> node 需要调整的节点</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertAdjust</span><span class="params">(TreeNode node)</span></span>&#123;</span><br><span class="line">    <span class="comment">//如果节点为根节点，则将节点颜色变为黑色</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.root == node)&#123;</span><br><span class="line">        <span class="keyword">this</span>.root.color = <span class="string">"black"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果当前节点的父节点颜色为红色</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(node.parent != <span class="keyword">null</span> &amp;&amp; node.parent.color.equals(<span class="string">"red"</span>))&#123;</span><br><span class="line">        <span class="comment">//如果父节点是左孩子</span></span><br><span class="line">        <span class="keyword">if</span>(node.parent.parent != <span class="keyword">null</span> &amp;&amp; node.parent == node.parent.parent.leftChild)&#123;</span><br><span class="line">            <span class="comment">//将tmpNode设为当前节点的叔叔节点</span></span><br><span class="line">            TreeNode tmpNode = node.parent.parent.rightChild;</span><br><span class="line">            <span class="comment">//如果叔叔节点是红色</span></span><br><span class="line">            <span class="keyword">if</span>(tmpNode != <span class="keyword">null</span> &amp;&amp; tmpNode.color.equals(<span class="string">"red"</span>))&#123;</span><br><span class="line">                <span class="comment">//将父节点设为黑色</span></span><br><span class="line">                node.parent.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将叔叔节点设为黑色</span></span><br><span class="line">                tmpNode.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将祖父节点设为红色</span></span><br><span class="line">                tmpNode.parent.color = <span class="string">"red"</span>;</span><br><span class="line">                <span class="comment">//将祖父节点设为当前节点</span></span><br><span class="line">                node = tmpNode.parent;</span><br><span class="line">                insertAdjust(node);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果叔叔节点是黑色，而且当前节点是右孩子</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(node == node.parent.rightChild)&#123;</span><br><span class="line">                <span class="comment">//将父节点设为当前节点，并进行左旋</span></span><br><span class="line">                node = node.parent;</span><br><span class="line">                leftRotate(node);</span><br><span class="line">                <span class="comment">//接着进行调整</span></span><br><span class="line">                insertAdjust(node);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果叔叔节点是黑色，而且当前节点是左孩子</span></span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//将父节点设为黑色</span></span><br><span class="line">                node.parent.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将祖父节点设为红色</span></span><br><span class="line">                node.parent.parent.color = <span class="string">"red"</span>;</span><br><span class="line">                <span class="comment">//将祖父节点进行右旋</span></span><br><span class="line">                rightRotate(node.parent.parent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(node.parent.parent != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//将tmpNode设为当前节点的叔叔节点</span></span><br><span class="line">            TreeNode tmpNode = node.parent.parent.leftChild;</span><br><span class="line">            <span class="comment">//如果叔叔节点是红色</span></span><br><span class="line">            <span class="keyword">if</span>(tmpNode != <span class="keyword">null</span> &amp;&amp; tmpNode.color.equals(<span class="string">"red"</span>))&#123;</span><br><span class="line">                <span class="comment">//将父节点设为黑色</span></span><br><span class="line">                node.parent.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将叔叔节点设为黑色</span></span><br><span class="line">                tmpNode.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将祖父节点设为红色</span></span><br><span class="line">                tmpNode.parent.color = <span class="string">"red"</span>;</span><br><span class="line">                <span class="comment">//将祖父节点设为当前节点</span></span><br><span class="line">                node = tmpNode.parent;</span><br><span class="line">                insertAdjust(node);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果叔叔节点是黑色，而且当前节点是左孩子</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(node == node.parent.leftChild)&#123;</span><br><span class="line">                <span class="comment">//将父节点设为当前节点，并进行右旋</span></span><br><span class="line">                node = node.parent;</span><br><span class="line">                rightRotate(node);</span><br><span class="line">                <span class="comment">//接着进行调整</span></span><br><span class="line">                insertAdjust(node);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果叔叔节点是黑色，而且当前节点是右孩子</span></span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//将父节点设为黑色</span></span><br><span class="line">                node.parent.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将祖父节点设为红色</span></span><br><span class="line">                node.parent.parent.color = <span class="string">"red"</span>;</span><br><span class="line">                <span class="comment">//将祖父节点进行左旋</span></span><br><span class="line">                leftRotate(node.parent.parent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h3><h4 id="一、按照二叉查找树的规则将节点删除"><a href="#一、按照二叉查找树的规则将节点删除" class="headerlink" title="一、按照二叉查找树的规则将节点删除"></a>一、按照二叉查找树的规则将节点删除</h4><p>删除节点的情况有以下三种：</p>
<p> 情况1. 要删除的是叶子节点，此时直接删除就可以。<br> 情况2. 要删除的节点只有一个孩子，此时用孩子顶替它即可。<br> 情况3. 要删除的节点有两个孩子，此时需要找出它的代替节点，将代替节点的值赋给要删除的节点，然后将代替节点删除即可。代替节点为要删除节点的右子树上最小的节点，即为要删除节点的右孩子的左孩子的左孩子的左孩子…..。由此可知代替节点要么只有一个右孩子，要么没有孩子，不可能有左孩子，所以对代替节点的删除可以转化为情况1和2。<br>假设需要删除的节点为node，代替节点为replace（replace只可能只有一个左孩子、或者只有一个右孩子、或者没有孩子）,具体步骤如下：</p>
<ol>
<li>如果node的左右孩子均不为空，则将replace设为node的右孩子，如果replace的左孩子不为空，循环操作将replace设为它的左孩子。</li>
<li>如果node的只有一个孩子或者没有孩子，则将replace设为node。</li>
<li>如果replace没有孩子，则判断是否为根节点，如果是根节点，则直接置空跳出；如果不是根节点并且是它父亲的左孩子，那么新建空的叶子节点tmpNode，将它父亲的左孩子设为tmpNode；如果不是根节点并且是它父亲的右孩子，那么新建空的叶子节点tmpNode，将它父亲的右孩子设为tmpNode。</li>
<li>如果replace左孩子不为空，则将tmpNode置为它的左孩子，用tmpNode代替replace，如果replace是root节点，则将tmpNode设为root节点。</li>
<li>如果replace右孩子不为空，则将tmpNode置为它的右孩子，用tmpNode代替replace，如果replace是root节点，则将tmpNode设为root节点。</li>
<li><p>如果replace的节点值不等于node的节点值，则将replace的节点值赋给node。</p>
<p>删除完后，如果replace是黑色节点时可能会破坏红黑树的规则，因此需要对tmpNode进行调整。</p>
<h4 id="二、删除节点后调整"><a href="#二、删除节点后调整" class="headerlink" title="二、删除节点后调整"></a>二、删除节点后调整</h4><p>删除节点后具体有以下几种情况：</p>
</li>
<li>待调整节点是红色节点，此时将待调整节点设为黑色即可。</li>
<li>待调整节点是黑色节点并且是根节点，此时不用进行调整。</li>
<li>待调整节点是黑色节点并且不是根节点，此时需要进行调整。这种情况又分为以下几种子情况：<br>子情况1：待调整节点是父亲的左孩子，并且兄弟节点是红色。<br>子情况2：待调整节点是父亲的左孩子，并且兄弟节点是黑色，兄弟节点的两个孩子都是黑色。<br>子情况3：待调整节点是父亲的左孩子，并且兄弟节点是黑色，兄弟节点的左孩子是红色，右孩子是黑色。<br>子情况4：待调整节点是父亲的左孩子，并且兄弟节点是黑色，兄弟节点的右孩子是红色。<br>子情况5：待调整节点是父亲的右孩子，并且兄弟节点是红色。<br>子情况6：待调整节点是父亲的右孩子，并且兄弟节点是黑色，兄弟节点的两个孩子都是黑色。<br>子情况7：待调整节点是父亲的右孩子，并且兄弟节点是黑色，兄弟节点的右孩子是红色，左孩子是黑色。<br>子情况8：待调整节点是父亲的右孩子，并且兄弟节点是黑色，兄弟节点的左孩子是红色。</li>
</ol>
<p>假设node节点是待调整节点，tmpNode节点（和第一步删除时的tmpNode不是同一节点，注意区分）是node节点的兄弟节点，具体调整步骤如下：</p>
<ol>
<li>如果node节点是红色的，则将颜色变为黑色，否则继续下面步骤。</li>
<li>如果node节点是黑色的而且不是根节点，判断node节点是它父亲的左孩子还是右孩子</li>
<li>如果node是左孩子，tmpNode是红色的，则将tmpNode设为黑色，将node的父亲设为红色，将node的父亲左旋，重新将tmpNode设为node的兄弟节点继续下面步骤。</li>
<li>如果node是左孩子，tmpNode是黑色的，而且tmpNode的两个孩子（包含空叶子节点）都是黑色的，则将tmpNode设为红色，递归调整node的父节点。</li>
<li>如果node是左孩子，tmpNode是黑色的，而且tmpNode的左孩子是红色的，右孩子是黑色的，则将tmpNode的左孩子变为黑色，将tmpNode变为红色，将tmpNode右旋，重新将tmpNode设为node的兄弟节点，继续下面步骤。</li>
<li>如果node是左孩子，tmpNode是黑色的，而且tmpNode的右孩子是红色，则将node父节点的颜色赋给tmpNode，将node父节点设为黑色，将tmpNode右孩子设为黑色，将node的父亲左旋。</li>
<li>如果node是右孩子，tmpNode是红色的，则将tmpNode设为黑色，将node的父亲设为红色，将node的父亲右旋，重新将tmpNode设为node的兄弟节点继续下面步骤。</li>
<li>如果node是右孩子，tmpNode是黑色的，而且tmpNode的两个孩子都是黑色的，则将tmpNode设为红色，递归调整node的父节点。</li>
<li>如果node是右孩子，tmpNode是黑色的，而且tmpNode的右孩子是红色的，左孩子是黑色的，则将tmpNode的右孩子变为黑色，将tmpNode变为红色，将tmpNode左旋，重新将tmpNode设为node的兄弟节点，继续下面步骤。</li>
<li>如果node是右孩子，tmpNode是黑色的，而且tmpNode的左孩子是红色，则将node父节点的颜色赋给tmpNode，将node父节点设为黑色，将tmpNode左孩子设为黑色，将node的父亲右旋。</li>
</ol>
<p>子情况1图解，已经删除的节点是20的左孩子（被空的叶子节点取代），需要调整的（当前节点）是20的左孩子（空的叶子节点）：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/9f9e0a15c000e570aa1e9597f651eadd?fid=4047388677-250528-937124763683071&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-as4xAGu2OdZkjsQsQXYdCVcWLjk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124577504628707571&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>调整（按照步骤3调整）后如下，此时当前节点的兄弟节点是25：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/7e406246bacdabb8f23ddf2e27be9ead?fid=4047388677-250528-50337304223953&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-8l4Ogs%2brSJGPBI2EGXZV9k7fTHc%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124599303420066230&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>继续进行步骤3之后的步骤，此时其实是子情况2，继续调整（按照步骤4调整）后如下：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/bd0c42924055598bd823341b3177f555?fid=4047388677-250528-814979907090848&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-TdBxBKesQwGCiL%2bh6O80AUw7Bkk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124614113546934179&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>对父节点20进行递归调整后如下，满足红黑树规则：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/599480a48907f65dbcd57124ad60a29f?fid=4047388677-250528-121458865115983&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-qcSsAmXeOTebhJkP%2fQMifea8Bhs%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124629638490309983&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>子情况3（子情况2前面已经描述过，这里不再赘述）图解如下，已经删除的节点是20的左孩子，需要调整的节点是20的左孩子（空叶子节点）:<br><img src="https://thumbnail10.baidupcs.com/thumbnail/b60b8bcaf07dff463e9439476df252e3?fid=4047388677-250528-130092490166979&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-AM4K7JV0wtYcoKAXlAga2S%2fv6W4%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124647991948754836&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>调整（按照步骤5）后如下，此时当前节点的兄弟节点是25：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/baebffadb8974c7d97a016cca66eef74?fid=4047388677-250528-281506235498622&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-tW5ksR0tCRIoNU0FqHfxPinORbs%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124667907544990004&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>继续进行步骤5之后的步骤，这时实际上是子情况4，调整（按照步骤6）后如下，满足红黑树规则：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/84bd52ccb1535e145db64fd1b0b4565e?fid=4047388677-250528-1119339374595557&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-8XYxL2DrkDaP2qwVT3mBdD%2bTqa4%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124686291592018485&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>子情况5（子情况4前面已经描述过，这里不再赘述）图解，已经删除的节点是20的右孩子，需要调整的节点是20的右孩子（空叶子节点）：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/6d14986f615ec55dafb84a3aec799015?fid=4047388677-250528-116254465281551&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-WyDDtWh4xy4zqdIyhxLXMPmjwrw%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124736170424651834&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>调整（按照步骤7）后如下，此时当前节点的兄弟节点是15：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/a9dd21e1fcd9cf1fb3b2b742e5c94cb2?fid=4047388677-250528-144744503307917&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-9K4ngMsD59fIYNKbxnzrAFPEG6I%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124758559261533514&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>继续步骤7之后的步骤，此时其实是子情况6,继续调整（按照步骤8）后如下：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/d2aeb197085e7f58640a8a5dc67df4b2?fid=4047388677-250528-875218061079490&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-dtqZWpNjTR1mj%2fY1eDjWzR9SLIc%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124793699592637346&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>递归调整父节点20后如下，满足红黑树规则：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/d90fa4f92b7dcae93bea3ffa1f51c2c3?fid=4047388677-250528-1099803307032097&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-aGtXmvlhEqhsPj6S2NB6102ZRww%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124819005727500006&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>子情况7（子情况6前面已经描述过，这里不再赘述）图解，已经删除的节点是20的右孩子，需要调整的节点是20的右孩子（空的叶子节点）：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/e0f754250893f83cd2be1550e4a59f17?fid=4047388677-250528-444694906200413&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-DBU0MgyE4o%2fMwilrZ3iRGtvqtm8%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124861328434937529&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>调整（按照步骤9）后如下，此时当前节点的兄弟为15：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/697d195c035cefe551237a97a7a3fae1?fid=4047388677-250528-44491375157933&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-n3%2fkqLeoHBmj%2fDcYaI8KkNkdnEM%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124891682268127162&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>继续步骤9之后的步骤，此时其实是子情况8，继续调整（按照步骤10）后如下，满足红黑树规则：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/9b385d0ba4497b0422b09ddd7beeea32?fid=4047388677-250528-1102487241494608&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-k07wl5qotthGmIAMIm0d1jLN7iY%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2124915630235106551&amp;dp-callid=0&amp;time=1554184800&amp;size=c1280_u720&amp;quality=90&amp;vuk=4047388677&amp;ft=image&amp;autopolicy=1" alt="在这里插入图片描述"><br>调整完后判断调整的节点是不是空的叶子节点，如果是则将它删除。<br>完整的删除代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 删除节点</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> value 需要删除的节点值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(E value)</span></span>&#123;</span><br><span class="line">    <span class="comment">//查找要删除的节点</span></span><br><span class="line">    TreeNode node = search(<span class="keyword">this</span>,value);</span><br><span class="line">    <span class="comment">//如果node的左孩子和右孩子都不为空，则寻找node的后继结点(右子树的最小节点)，将后继结点赋给replace</span></span><br><span class="line">    TreeNode replace = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(node.leftChild != <span class="keyword">null</span> &amp;&amp; node.rightChild != <span class="keyword">null</span>) &#123;</span><br><span class="line">        replace = node.rightChild;</span><br><span class="line">        <span class="keyword">while</span> (replace.leftChild != <span class="keyword">null</span>) &#123;</span><br><span class="line">            replace = replace.leftChild;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        replace = node;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode tmpNode = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">//如果replace为叶子节点，则直接删除</span></span><br><span class="line">    <span class="keyword">if</span>(replace.leftChild == <span class="keyword">null</span> &amp;&amp; replace.rightChild == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">//如果replace为根节点，则直接置空</span></span><br><span class="line">        <span class="keyword">if</span>(replace == <span class="keyword">this</span>.root)&#123;</span><br><span class="line">            <span class="keyword">this</span>.root = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//用tmpNode空叶子节点代替replace节点，否则调整会报空指针</span></span><br><span class="line">            tmpNode = <span class="keyword">new</span> TreeNode(replace.parent,<span class="keyword">null</span>,<span class="keyword">null</span>,(E)<span class="string">"*"</span>,<span class="string">"black"</span>);</span><br><span class="line">            <span class="keyword">if</span> (replace == replace.parent.leftChild) &#123;</span><br><span class="line">                replace.parent.leftChild = tmpNode;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                replace.parent.rightChild = tmpNode;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果replace左子树不为空，则用replace左子树替代replace</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (replace.leftChild != <span class="keyword">null</span>)&#123;</span><br><span class="line">        tmpNode = replace.leftChild;</span><br><span class="line">        <span class="keyword">if</span>(replace == <span class="keyword">this</span>.root)&#123;</span><br><span class="line">            <span class="keyword">this</span>.root = tmpNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(replace == replace.parent.leftChild)&#123;</span><br><span class="line">            replace.parent.leftChild = tmpNode;</span><br><span class="line">            tmpNode.parent = replace.parent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            replace.parent.rightChild = tmpNode;</span><br><span class="line">            tmpNode.parent = replace.parent;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果replace右子树不为空，则用replace右子树替代replace</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        tmpNode = replace.rightChild;</span><br><span class="line">        <span class="keyword">if</span>(replace == <span class="keyword">this</span>.root)&#123;</span><br><span class="line">            <span class="keyword">this</span>.root = tmpNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(replace == replace.parent.leftChild)&#123;</span><br><span class="line">            replace.parent.leftChild = tmpNode;</span><br><span class="line">            tmpNode.parent = replace.parent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            replace.parent.rightChild = tmpNode;</span><br><span class="line">            tmpNode.parent = replace.parent;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果replace的值不等于node的值，则将repleace的节点值赋给node</span></span><br><span class="line">    <span class="keyword">if</span>(replace.value.compareTo(node.value) != <span class="number">0</span>)&#123;</span><br><span class="line">        node.value = replace.value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果replace为黑色节点，则对tmpNode进行删除调整</span></span><br><span class="line">    <span class="keyword">if</span>(replace.color.equals(<span class="string">"black"</span>))&#123;</span><br><span class="line">        deleteAdjust(tmpNode);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果tmpNode是空节点，则将它删除</span></span><br><span class="line">    <span class="keyword">if</span>(tmpNode.value.equals(<span class="string">"*"</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(tmpNode == tmpNode.parent.leftChild)&#123;</span><br><span class="line">            tmpNode.parent.leftChild = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            tmpNode.parent.rightChild = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 查找节点</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> value 需要查找的节点值</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 节点</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">search</span><span class="params">(RedAndBlackTree&lt;E&gt; tree,E value)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tree.root == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(value.compareTo(tree.root.value) == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> tree.root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(value.compareTo(tree.root.value) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        RedAndBlackTree&lt;E&gt; leftTree = <span class="keyword">new</span> RedAndBlackTree&lt;E&gt;();</span><br><span class="line">        leftTree.root = tree.root.leftChild;</span><br><span class="line">        <span class="keyword">return</span> search(leftTree,value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        RedAndBlackTree&lt;E&gt; rightTree = <span class="keyword">new</span> RedAndBlackTree&lt;E&gt;();</span><br><span class="line">        rightTree.root = tree.root.rightChild;</span><br><span class="line">        <span class="keyword">return</span> search(rightTree,value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 删除节点后调整</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> node 需要调整的节点</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteAdjust</span><span class="params">(TreeNode node)</span></span>&#123;</span><br><span class="line">    <span class="comment">//如果node是红色节点，则将node设为黑色</span></span><br><span class="line">    <span class="keyword">if</span>(node.color.equals(<span class="string">"red"</span>))&#123;</span><br><span class="line">        node.color = <span class="string">"black"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果node是黑色节点，且不是根节点</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(node != <span class="keyword">this</span>.root)&#123;</span><br><span class="line">        <span class="comment">//如果node是父亲的左孩子</span></span><br><span class="line">        <span class="keyword">if</span>(node == node.parent.leftChild)&#123;</span><br><span class="line">            <span class="comment">//将node父亲的右孩子赋给tmpNode</span></span><br><span class="line">            TreeNode tmpNode = node.parent.rightChild;</span><br><span class="line">            <span class="comment">//如果node的兄弟节点tmpNode为红色</span></span><br><span class="line">            <span class="keyword">if</span>(tmpNode.color.equals(<span class="string">"red"</span>))&#123;</span><br><span class="line">                <span class="comment">//将node的兄弟tmpNode设为黑色</span></span><br><span class="line">                tmpNode.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将node的父亲设为红色</span></span><br><span class="line">                node.parent.color = <span class="string">"red"</span>;</span><br><span class="line">                <span class="comment">//将node的父亲进行左旋</span></span><br><span class="line">                leftRotate(node.parent);</span><br><span class="line">                <span class="comment">//重新将tmpNode设为node的兄弟</span></span><br><span class="line">                tmpNode = node.parent.rightChild;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果node的兄弟节点tmpNode是黑色，而且tmpNode两个孩子节点都是黑色</span></span><br><span class="line">            <span class="keyword">if</span>(tmpNode.color.equals(<span class="string">"black"</span>) &amp;&amp; (tmpNode.leftChild == <span class="keyword">null</span> || tmpNode.leftChild.color.equals(<span class="string">"black"</span>)) &amp;&amp; (tmpNode.rightChild == <span class="keyword">null</span> || tmpNode.rightChild.color.equals(<span class="string">"black"</span>)))&#123;</span><br><span class="line">                <span class="comment">//将node的兄弟节点设为红色，递归对node节点的父亲进行操作</span></span><br><span class="line">                tmpNode.color = <span class="string">"red"</span>;</span><br><span class="line">                deleteAdjust(node.parent);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果node的兄弟节点tmpNode是黑色，而且tmpNode的左孩子是红色，右孩子是黑色</span></span><br><span class="line">            <span class="keyword">if</span>(tmpNode.color.equals(<span class="string">"black"</span>) &amp;&amp; tmpNode.leftChild != <span class="keyword">null</span> &amp;&amp; tmpNode.leftChild.color.equals(<span class="string">"red"</span>) &amp;&amp; (tmpNode.rightChild == <span class="keyword">null</span> || tmpNode.rightChild.color.equals(<span class="string">"black"</span>)))&#123;</span><br><span class="line">                <span class="comment">//将tmpNode的左孩子设为黑色</span></span><br><span class="line">                tmpNode.leftChild.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将tmpNode设为红色</span></span><br><span class="line">                tmpNode.color = <span class="string">"red"</span>;</span><br><span class="line">                <span class="comment">//将tmpNode进行右旋</span></span><br><span class="line">                rightRotate(tmpNode);</span><br><span class="line">                <span class="comment">//重新将tmpNode设为node的兄弟节点</span></span><br><span class="line">                tmpNode = node.parent.rightChild;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果node的兄弟节点tmpNode是黑色，而且tmpNode的右孩子是红色</span></span><br><span class="line">            <span class="keyword">if</span>(tmpNode.color.equals(<span class="string">"black"</span>) &amp;&amp; tmpNode.rightChild != <span class="keyword">null</span> &amp;&amp; tmpNode.rightChild.color.equals(<span class="string">"red"</span>))&#123;</span><br><span class="line">                <span class="comment">//将node父节点的颜色赋给兄弟节点tmpNode</span></span><br><span class="line">                tmpNode.color = node.parent.color;</span><br><span class="line">                <span class="comment">//将node的父节点设为黑色</span></span><br><span class="line">                node.parent.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将tmpNode的右孩子设为黑色</span></span><br><span class="line">                tmpNode.rightChild.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//对node的父亲进行左旋</span></span><br><span class="line">                leftRotate(node.parent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果node是父亲的右孩子</span></span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//将node父亲的左孩子赋给tmpNode</span></span><br><span class="line">            TreeNode tmpNode = node.parent.leftChild;</span><br><span class="line">            <span class="comment">//如果node的兄弟节点tmpNode为红色</span></span><br><span class="line">            <span class="keyword">if</span>(tmpNode.color.equals(<span class="string">"red"</span>))&#123;</span><br><span class="line">                <span class="comment">//将node的兄弟tmpNode设为黑色</span></span><br><span class="line">                tmpNode.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将node的父亲设为红色</span></span><br><span class="line">                node.parent.color = <span class="string">"red"</span>;</span><br><span class="line">                <span class="comment">//将node的父亲进行右旋</span></span><br><span class="line">                rightRotate(node.parent);</span><br><span class="line">                <span class="comment">//重新将tmpNode设为node的兄弟</span></span><br><span class="line">                tmpNode = node.parent.leftChild;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果node的兄弟节点tmpNode是黑色，而且tmpNode两个孩子节点都是黑色</span></span><br><span class="line">            <span class="keyword">if</span>(tmpNode.color.equals(<span class="string">"black"</span>) &amp;&amp; (tmpNode.leftChild == <span class="keyword">null</span> || tmpNode.leftChild.color.equals(<span class="string">"black"</span>)) &amp;&amp; (tmpNode.rightChild == <span class="keyword">null</span> || tmpNode.rightChild.color.equals(<span class="string">"black"</span>)))&#123;</span><br><span class="line">                <span class="comment">//将node的兄弟节点设为红色，递归对node节点的父亲进行操作</span></span><br><span class="line">                tmpNode.color = <span class="string">"red"</span>;</span><br><span class="line">                deleteAdjust(node.parent);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果node的兄弟节点tmpNode是黑色，而且tmpNode的右孩子是红色，左孩子是黑色</span></span><br><span class="line">            <span class="keyword">if</span>(tmpNode.color.equals(<span class="string">"black"</span>) &amp;&amp; tmpNode.rightChild != <span class="keyword">null</span> &amp;&amp; tmpNode.rightChild.color.equals(<span class="string">"red"</span>) &amp;&amp; (tmpNode.leftChild == <span class="keyword">null</span> || tmpNode.leftChild.color.equals(<span class="string">"black"</span>)))&#123;</span><br><span class="line">                <span class="comment">//将tmpNode的右孩子设为黑色</span></span><br><span class="line">                tmpNode.rightChild.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将tmpNode设为红色</span></span><br><span class="line">                tmpNode.color = <span class="string">"red"</span>;</span><br><span class="line">                <span class="comment">//将tmpNode进行左旋</span></span><br><span class="line">                leftRotate(tmpNode);</span><br><span class="line">                <span class="comment">//重新将tmpNode设为node的兄弟节点</span></span><br><span class="line">                tmpNode = node.parent.leftChild;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果node的兄弟节点tmpNode是黑色，而且tmpNode的左孩子是红色</span></span><br><span class="line">            <span class="keyword">if</span>(tmpNode.color.equals(<span class="string">"black"</span>) &amp;&amp; tmpNode.leftChild != <span class="keyword">null</span> &amp;&amp; tmpNode.leftChild.color.equals(<span class="string">"red"</span>))&#123;</span><br><span class="line">                <span class="comment">//将node父节点的颜色赋给兄弟节点tmpNode</span></span><br><span class="line">                tmpNode.color = node.parent.color;</span><br><span class="line">                <span class="comment">//将node的父节点设为黑色</span></span><br><span class="line">                node.parent.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//将tmpNode的左孩子设为黑色</span></span><br><span class="line">                tmpNode.leftChild.color = <span class="string">"black"</span>;</span><br><span class="line">                <span class="comment">//对node的父亲进行右旋</span></span><br><span class="line">                rightRotate(node.parent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="打印红黑树"><a href="#打印红黑树" class="headerlink" title="打印红黑树"></a>打印红黑树</h3><p>根据层次遍历思想，使用两个队列，将红黑树逐层打印（空叶子节点打印*）。<br>具体步骤如下：</p>
<ol>
<li>将root节点入队列list1中。</li>
<li>循环操作，如果list1不为空，就出队列，将出队列的节点（记为node）入list2中，将node节点的左右孩子分别入队列list1中，如果左右孩子是空就新建一个节点值为*的树节点入队列。</li>
<li>判断list1如果不为空且其中的节点值全为*，则代表已经遍历完成，跳出循环。</li>
<li>将list1中剩余节点全部入队列list2中。</li>
<li>循环打印list2中的节点值以及颜色，每打印2的n次方个数打印一个空格（n从0开始递增）。</li>
</ol>
<p>打印红黑树Java实现如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 打印红黑树,根据层次遍历思想，使用两个队列</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> tree 需要打印的红黑树</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printTree</span><span class="params">(RedAndBlackTree&lt;E&gt; tree)</span></span>&#123;</span><br><span class="line">    TreeNode root = tree.root;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//list1队列用作层次遍历用</span></span><br><span class="line">    LinkedList&lt;TreeNode&gt; list1 = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</span><br><span class="line">    <span class="comment">//list2队列用作最后打印用</span></span><br><span class="line">    LinkedList&lt;TreeNode&gt; list2 = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</span><br><span class="line">    <span class="comment">//将根节点入队列list1</span></span><br><span class="line">    list1.addLast(root);</span><br><span class="line">    <span class="comment">//如果队列list1不为空，则继续循环</span></span><br><span class="line">    <span class="keyword">while</span>(list1.size() != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">//list1出队列</span></span><br><span class="line">        TreeNode node = list1.removeFirst();</span><br><span class="line">        <span class="comment">//将节点存进list2队列</span></span><br><span class="line">        list2.addLast(node);</span><br><span class="line">        <span class="comment">//将节点左右孩子分别入队列list1，如果为空则入节点值为*的</span></span><br><span class="line">        <span class="keyword">if</span>(node.leftChild != <span class="keyword">null</span>)&#123;</span><br><span class="line">            list1.addLast(node.leftChild);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            TreeNode tmpNode = <span class="keyword">new</span> TreeNode(<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,(E)<span class="string">"*"</span>,<span class="string">"black"</span>);</span><br><span class="line">            list1.addLast(tmpNode);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(node.rightChild != <span class="keyword">null</span>)&#123;</span><br><span class="line">            list1.addLast(node.rightChild);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            TreeNode tmpNode = <span class="keyword">new</span> TreeNode(<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,(E)<span class="string">"*"</span>,<span class="string">"black"</span>);</span><br><span class="line">            list1.addLast(tmpNode);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//判断如果队列list1不为空且均为*,代表遍历完成，将list1中剩余节点值均入队列list2中</span></span><br><span class="line">        <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(list1.size() == <span class="number">0</span>)&#123;</span><br><span class="line">            flag = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num = <span class="number">0</span>;num &lt; list1.size();num++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!list1.get(num).value.equals(<span class="string">"*"</span>))&#123;</span><br><span class="line">                flag = <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span>(list1.size() != <span class="number">0</span>)&#123;</span><br><span class="line">                TreeNode tmp = list1.removeFirst();</span><br><span class="line">                list2.addLast(tmp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//打印list2中最终结果，每打印2的n次方个数打印一个空格（n从0开始递增）</span></span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>,j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(list2.size() != <span class="number">0</span>)&#123;</span><br><span class="line">        TreeNode treeNode = list2.removeFirst();</span><br><span class="line">        System.out.print(treeNode.value + <span class="string">":"</span> +treeNode.color  + <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span>(i == Math.pow(<span class="number">2</span>,j))&#123;</span><br><span class="line">            System.out.println();</span><br><span class="line">            i = <span class="number">0</span>;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>完整代码已经上传github:<br><a href="https://github.com/3ylh3/DataStructureAndAlgorithm/tree/master/src/main/java/com/xiaobai/datastructure/redandblacktree" target="_blank" rel="noopener">https://github.com/3ylh3/DataStructureAndAlgorithm/tree/master/src/main/java/com/xiaobai/datastructure/redandblacktree</a><br>参考博文：<a href="https://www.cnblogs.com/skywang12345/p/3245399.html" target="_blank" rel="noopener">https://www.cnblogs.com/skywang12345/p/3245399.html</a></p>

      
    
    </div>
    
      

      
  <hr class="copy-line">
  <div class="post-copyright">
    <div class="copy-author">
      <span>作者 :</span>
      <span>小白</span>
    </div>
    <div class="copy-url">
      <span>地址 :</span>
      <a href="https://www.xiaobai.pub/2019/03/28/Java实现红黑树/">https://www.xiaobai.pub/2019/03/28/Java实现红黑树/</a>
    </div>
    <div class="copy-origin">
      <span>来源 :</span>
      <a href="https://www.xiaobai.pub">https://www.xiaobai.pub</a>
    </div>
    <div class="copy-license">
      
      著作权归作者所有，转载请联系作者获得授权。
    </div>
  </div>

    
  </article>
  
    
  <nav class="article-page">
    
      <a href="/2019/04/02/SpringCloudAlibaba实现服务配置管理和动态服务发现（使用Nacos）/" id="art-left" class="art-left">
        <span class="next-title">
          <i class="iconfont icon-left"></i>SpringCloudAlibaba实现服务配置管理和动态服务发现（使用Nacos）
        </span>
      </a>
    
    
      <a href="/2019/03/28/常见排序算法Java实现/" id="art-right" class="art-right">
        <span class="prev-title"> 
          常见排序算法Java实现<i class="iconfont icon-right"></i>  
        </span>
      </a>
    
  </nav>

    
  <i id="com-switch" class="iconfont icon-more jumping-in long infinite" style="font-size:24px;display:block;text-align:center;transform:rotate(180deg);"></i>
  <div class="post-comments" id="post-comments" style="display: block;margin: auto 16px;">
    
    
    

    

    <!-- 来必力City版安装代码 -->
<div id="lv-container" data-id="city" data-uid="MTAyMC80MzUwNy8yMDA0Nw==">
	<script type="text/javascript">
   (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];

       if (typeof LivereTower === 'function') { return; }

       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;

       e.parentNode.insertBefore(j, e);
   })(document, 'script');
	</script>
<noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>
</div>
<!-- City版安装代码已完成 -->
  </div>



  
  
    
  
  <aside class="post-toc">
    <span class="title" id="toc-switch"><span>文章导航</span></span>
    <div class="toc-inner syuanpi back-1" style="display:none;">
      <li class="title-link"><a href="javascript:;" class="toTop">Java实现红黑树</a></li>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#红黑树简单介绍"><span class="toc-text">红黑树简单介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#红黑树基本操作"><span class="toc-text">红黑树基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#左旋"><span class="toc-text">左旋</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#右旋"><span class="toc-text">右旋</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#插入新节点"><span class="toc-text">插入新节点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#一、找到插入节点的位置并插入"><span class="toc-text">一、找到插入节点的位置并插入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#二、对插入节点进行调整"><span class="toc-text">二、对插入节点进行调整</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除节点"><span class="toc-text">删除节点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#一、按照二叉查找树的规则将节点删除"><span class="toc-text">一、按照二叉查找树的规则将节点删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#二、删除节点后调整"><span class="toc-text">二、删除节点后调整</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#打印红黑树"><span class="toc-text">打印红黑树</span></a></li></ol></li></ol>
    </div>
  </aside>



  


        </div>
      </main>
      
      <footer class="footer syuanpi fadeIn" id="footer">
  <hr>
  <div class="footer-wrapper">
    <div class="left">
      <div class="contact-icon">
    
    
    
    
    
    
    
    
    
        
            <a href="https://github.com/3ylh3" class="iconfont icon-social-github" title="github"></a>
        
        
        
        
        
        
        
        
    
</div>

    </div>
    <div class="right">
      <div class="copyright">
    <div class="info">
        <span>&copy;</span>
        <span>2019 ~ 2019</span>
        <span>❤</span>
        <span>小白</span>
    </div>
    <div class="theme">
        <span>
            Powered by
            <a href="http://hexo.io/" target="_blank">Hexo </a>
        </span>
        <span>
            Theme
            <a href="https://github.com/ColMugX/hexo-theme-Nlvi"> Nlvi </a>
        </span>
    </div>
    
    <div class="visit_count">
        <i class="iconfont icon-visit"></i>
        <span id="busuanzi_value_site_uv"></span>
        <i class="iconfont icon-people"></i>
        <span id="busuanzi_value_site_pv"></span>
    </div>
    
</div>

    </div>
  </div>
</footer>
    </div>
  </div>
  <script src="/script/lib/jquery/jquery-3.2.1.min.js"></script>


  <script src="/script/lib/lightbox/js/lightbox.min.js"></script>



  <script src="https://cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/x-mathjax-config;executed=true">MathJax.Hub.Config({tex2jax: {inlineMath: [["$","$"], ["\\(","\\)"]]}});</script>






<script src="/script/src/nlvi.js"></script>

  <script src="/script/scheme/banderole.js"></script>

<script src="/script/bootstarp.js"></script>


<div class="backtop syuanpi melt toTop" id="backtop">
    <i class="iconfont icon-up"></i>
    <span style="text-align:center;font-family:Georgia;"><span style="font-family:Georgia;" id="scrollpercent">1</span>%</span>
</div>


  <div class="search" id="search">
    <div class="mask" id="mask"></div>
    <div class="search-wrapper syuanpi">
      <h2 id="search-header" class="syuanpi">搜索一下？</h2>
      <div class="input">
        <input type="text" id="local-search-input" results="0" name>
      </div>
      <div id="local-search-result"></div>
    </div>
  </div>


  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://cdn.bootcss.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script>
      $(function () {
        $('[data-toggle="popover"]').popover()
      })
  </script>
  
    <script src="//cdn1.lncld.net/static/js/2.5.0/av-min.js"></script>
<script>
    var APP_ID = '0MxsPI7i0WQS8ay0kgAoKMyg-gzGzoHsz';
    var APP_KEY = 'Njk0sn0NSf7KiknnCRzlbBVS';
    AV.init({
        appId: APP_ID,
        appKey: APP_KEY
    });
    // 显示次数
    function showTime(Counter) {
        var query = new AV.Query("xiaobai");
        if($(".leancloud_visitors").length > 0){
            var url = $(".leancloud_visitors").attr('id').trim();
            // where field
            query.equalTo("words", url);
            // count
            query.count().then(function (number) {
                // There are number instances of MyClass where words equals url.
                $(document.getElementById(url)).text(number?  number : '0');
            }, function (error) {
                // error is an instance of AVError.
            });
        }
    }
    // 追加pv
    function addCount(Counter) {
        var url = $(".leancloud_visitors").length > 0 ? $(".leancloud_visitors").attr('id').trim() : 'icafebolger.com';
        var Counter = AV.Object.extend("xiaobai");
        var query = new Counter;
        query.save({
            words: url
        }).then(function (object) {
        })
    }
    $(function () {
        var Counter = AV.Object.extend("xiaobai");
        addCount(Counter);
        showTime(Counter);
    });
</script>
  
  
  <script>
  (function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
  </script>
</body>
</html>
